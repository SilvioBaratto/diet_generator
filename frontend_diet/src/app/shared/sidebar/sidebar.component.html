<!-- Responsive Sidebar Container -->
<div class="flex flex-col h-full bg-gradient-to-b from-white via-white to-gray-50/50">

  <!-- Header Section - Responsive sizing -->
  <div class="p-4 sm:p-5 lg:p-6 border-b border-gray-200/80 bg-gradient-to-br from-teal-50/80 via-emerald-50/60 to-blue-50/40 backdrop-blur-sm">
    <div class="flex flex-col items-center space-y-3 lg:space-y-4">
      <!-- Logo - Responsive sizing -->
      <div class="relative">
        <div class="w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-gradient-to-br from-teal-500 to-emerald-600 rounded-xl lg:rounded-2xl flex items-center justify-center shadow-lg ring-1 ring-white/20">
          <img src="assets/logo/logo.svg" alt="FrontendDiet Logo" class="w-6 h-6 sm:w-8 sm:h-8 lg:w-10 lg:h-10">
        </div>
        <div class="absolute -bottom-0.5 -right-0.5 lg:-bottom-1 lg:-right-1 w-3 h-3 lg:w-4 lg:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm"></div>
      </div>

      <!-- App Name - Responsive typography -->
      <div class="text-center">
        <h1 class="text-base sm:text-lg lg:text-xl font-bold text-gray-900 tracking-tight">DietologoAI</h1>
        <p class="text-xs lg:text-sm text-gray-600 font-medium">Il tuo nutrizionista</p>
      </div>
    </div>
  </div>

  <!-- Navigation - Enhanced responsive design -->
  <nav class="flex-1 overflow-y-auto p-3 sm:p-4 lg:p-4 space-y-1 lg:space-y-2 scrollbar-hidden">
    @for (link of navLinks; track trackByPath($index, link)) {
      <a [routerLink]="link.path"
        routerLinkActive="bg-gradient-to-r from-teal-500 to-emerald-600 text-white shadow-lg ring-1 ring-teal-200 scale-[1.02]"
        [routerLinkActiveOptions]="{ exact: isExactRoute(link.path) }"
               class="group flex items-center gap-3 lg:gap-4 px-3 lg:px-4 py-3 lg:py-3.5 rounded-xl lg:rounded-2xl 
                      text-gray-700 hover:bg-gradient-to-r hover:from-teal-50 hover:to-emerald-50 hover:text-teal-700 
                      transition-all duration-300 ease-out transform hover:scale-[1.02] active:scale-100 
                      focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-white
                      touch-manipulation min-h-[44px]"
        (click)="onLinkClick()"
        [attr.aria-label]="'Navigate to ' + link.label">
        <!-- Icon Container - Enhanced responsive design -->
        <div class="flex-shrink-0">
                    <div class="w-9 h-9 lg:w-10 lg:h-10 rounded-lg lg:rounded-xl bg-gray-100/80 group-hover:bg-white group-hover:shadow-sm 
                                flex items-center justify-center transition-all duration-300 group-hover:scale-110">
            @switch (link.path) {
              <!-- Dashboard Icon -->
              @case ('/dashboard') {
                <img
                  src="assets/icons/dashboard.svg"
                  alt="Dashboard"
                  class="w-5 h-5 lg:w-6 lg:h-6 transition-all duration-300 opacity-70 group-hover:opacity-100 group-hover:scale-110">
              }
              <!-- Weekly Diet Icon -->
              @case ('/weekly') {
                <img
                  src="assets/icons/weekly.svg"
                  alt="Weekly Diet"
                  class="w-5 h-5 lg:w-6 lg:h-6 transition-all duration-300 opacity-70 group-hover:opacity-100 group-hover:scale-110">
              }
              <!-- Grocery Icon -->
              @case ('/grocery') {
                <img
                  src="assets/icons/grocery.svg"
                  alt="Grocery"
                  class="w-5 h-5 lg:w-6 lg:h-6 transition-all duration-300 opacity-70 group-hover:opacity-100 group-hover:scale-110">
              }
              <!-- Settings Icon -->
              @case ('/settings') {
                <img
                  src="assets/icons/settings.svg"
                  alt="Settings"
                  class="w-5 h-5 lg:w-6 lg:h-6 transition-all duration-300 opacity-70 group-hover:opacity-100 group-hover:scale-110">
              }
            }
          </div>
        </div>
        <!-- Label - Responsive typography -->
        <div class="flex-1 min-w-0">
          <span class="block font-medium text-sm lg:text-base group-hover:font-semibold transition-all duration-300 truncate">
            {{ link.label }}
          </span>
          <span class="block text-xs text-gray-500 group-hover:text-teal-700 transition-colors duration-300 truncate lg:hidden xl:block [a.bg-gradient-to-r_&]:text-white/90 [a.bg-gradient-to-r_&]:font-medium">
            {{ link.description }}
          </span>
        </div>
        <!-- Active Indicator - Enhanced visibility -->
        <div class="ml-auto opacity-0 group-hover:opacity-100 routerLinkActive:opacity-100 transition-all duration-300 transform group-hover:translate-x-0.5">
          <svg class="w-4 h-4 lg:w-5 lg:h-5 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </div>
      </a>
    }
  </nav>
</div>